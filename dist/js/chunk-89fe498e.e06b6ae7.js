(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-89fe498e"],{"10b4":function(t,e,r){},e113:function(t,e,r){"use strict";var s=r("10b4"),o=r.n(s);o.a},f1bd:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{"background-color":"#fafafa","min-height":"100%",display:"flex","justify-content":"center","align-items":"center"}},[r("v-card",{attrs:{"min-width":"600","max-width":"600"}},[r("div",{staticStyle:{width:"80%",margin:"40px auto","font-family":"Roboto, sans-serif"}},[r("v-card-title",[r("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-between"}},[r("v-btn",{attrs:{color:t.isAuthorization?"primary":"secondary",text:""},on:{click:function(e){return t.toggleMode("authorization")}}},[r("p",{staticClass:"headline"},[t._v("Authorization")])]),r("p",{staticClass:"headline"},[t._v("|")]),r("v-btn",{attrs:{color:t.isAuthorization?"secondary":"primary",text:""},on:{click:function(e){return t.toggleMode("registration")}}},[r("p",{staticClass:"headline"},[t._v("Registration")])])],1)]),t.isAuthorization?r("AuthorizationForm"):r("RegistrationForm")],1)])],1)},o=[],i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-card-text",[r("v-text-field",{attrs:{outlined:"",label:"login",type:"email"},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),r("v-text-field",{attrs:{"append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",type:t.showPassword?"text":"password",outlined:"",label:"password"},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"secondary"},on:{click:function(e){return t.$router.push("/")}}},[t._v("Go Offline")]),r("v-btn",{attrs:{color:"primary"},on:{click:t.logIn}},[t._v("Log In")])],1)],1)},a=[],n={name:"AuthorizationForm",data:function(){return{login:"",password:"",showPassword:!1}},methods:{logIn:function(){var t=this;this.login.length>0&&this.password.length>0&&this.$store.dispatch("getJWT",{userName:this.login,password:this.password}).then((function(){t.$store.dispatch("fetchAllTodos"),t.$router.push("/")})).catch((function(){alert("Wrong login and password")}))}}},c=n,d=r("2877"),l=r("6544"),u=r.n(l),h=r("8336"),f=r("99d9"),p=r("2fa4"),w=r("8654"),m=Object(d["a"])(c,i,a,!1,null,"50c0e635",null),v=m.exports;u()(m,{VBtn:h["a"],VCardActions:f["a"],VCardText:f["b"],VSpacer:p["a"],VTextField:w["a"]});var g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-card-text",[r("v-text-field",{attrs:{outlined:"",label:"login",type:"email"},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),r("v-form",{ref:"passwordForm"},[r("v-text-field",{attrs:{"append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",type:t.showPassword?"text":"password",rules:[t.checkPasswords],outlined:"",label:"password"},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("v-text-field",{attrs:{"append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",type:t.showPassword?"text":"password",rules:[t.checkPasswords],outlined:"",label:"confirm password"},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"secondary"},on:{click:function(e){return t.$router.push("/")}}},[t._v("Go Offline")]),r("v-btn",{attrs:{disabled:!t.passwordsMatch,color:"primary"},on:{click:t.register}},[t._v("Sign Up")])],1)],1)},b=[],y=(r("d3b7"),r("db49"));function P(t){return/\S+@\S+\.\S+/.test(t)}var x={name:"RegistrationForm",data:function(){return{login:"",password:"",confirmPassword:"",showPassword:!1,passwordsMatch:!1}},watch:{password:"validatePasswordForm",confirmPassword:"validatePasswordForm"},methods:{register:function(){var t=this;if(this.confirmPassword===this.password&&""!==this.password&&P(this.login))return new Promise((function(e,r){var s=new XMLHttpRequest;s.open("POST",y["a"]+"register",!0),s.setRequestHeader("Content-Type","application/json;charset=UTF-8"),s.send(JSON.stringify({name:t.login,password:t.password})),s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)alert("You have registered successfully. Now go to authorization and use your credentials to log in");else try{alert(s.responseText)}catch(t){alert()}}}));alert("make sure all inputs are valid")},checkPasswords:function(){return this.password===this.confirmPassword?(this.passwordsMatch=!0,!0):(this.passwordsMatch=!1,"passwords do not match")},validatePasswordForm:function(){this.$refs.passwordForm.validate()}}},O=x,_=(r("a4d3"),r("4de4"),r("7db0"),r("caad"),r("e439"),r("dbb4"),r("b64b"),r("07ac"),r("2532"),r("159b"),r("ade3")),k=r("58df"),V=r("7e2b"),j=r("3206");function z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function $(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(Object(r),!0).forEach((function(e){Object(_["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var A=Object(k["a"])(V["a"],Object(j["b"])("form")).extend({name:"v-form",inheritAttrs:!1,props:{lazyValidation:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,r=function(t){return t.$watch("hasError",(function(r){e.$set(e.errorBag,t._uid,r)}),{immediate:!0})},s={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?s.shouldValidate=t.$watch("shouldValidate",(function(o){o&&(e.errorBag.hasOwnProperty(t._uid)||(s.valid=r(t)))})):s.valid=r(t),s},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var r=this.watchers.find((function(t){return t._uid===e._uid}));r&&(r.valid(),r.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:$({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}}),F=Object(d["a"])(O,g,b,!1,null,"11d8865d",null),B=F.exports;u()(F,{VBtn:h["a"],VCardActions:f["a"],VCardText:f["b"],VForm:A,VSpacer:p["a"],VTextField:w["a"]});var S={name:"Authorization",data:function(){return{isAuthorization:!0,isRegistration:!1}},methods:{toggleMode:function(t){"authorization"===t?(this.isAuthorization=!0,this.isRegistration=!1):"registration"===t&&(this.isRegistration=!0,this.isAuthorization=!1)}},components:{AuthorizationForm:v,RegistrationForm:B}},T=S,C=(r("e113"),r("b0af")),E=Object(d["a"])(T,s,o,!1,null,"c96c0950",null);e["default"]=E.exports;u()(E,{VBtn:h["a"],VCard:C["a"],VCardTitle:f["c"]})}}]);
//# sourceMappingURL=chunk-89fe498e.e06b6ae7.js.map